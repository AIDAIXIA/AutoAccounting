
首先，感谢您抽出时间来贡献！

我们鼓励和重视各种类型的贡献。在贡献之前，请确保阅读相关部分。这将使我们这些维护者的工作变得更容易，也会让所有参与者的体验更加顺畅。社区期待您的贡献。

> 如果您喜欢这个项目，但没有时间贡献，那也没关系。还有其他简单的方式来支持该项目并表示您的赞赏，我们也会非常高兴：
> - 给项目点个Star
> - 在 社交媒体 上分享
> - 在您项目的 readme 中引用该项目
> - 推广该项目并告诉您的朋友/同事


## 行为准则

自动记账是一个纯粹的自动化记账插件，采用GPLV3授权使用，禁止涉及政治、侵权等行为。

## 我有一个问题

> 如果您想要提问，我们假设您已阅读了可用的[文档](https://auto.ankio.net)。

在您提问之前，最好先搜索现有的[问题](/issues)，看看是否有相关的问题可以帮助您。如果您找到了合适的问题但仍需要澄清，您可以在这个问题中写下您的问题。此外，建议您先在互联网上搜索答案。

如果您仍然觉得有必要提问并需要澄清，我们建议您：

- 打开一个[问题](/issues/new)。
- 尽可能详细地提供有关您遇到的问题的上下文。
- 提供项目和平台版本（Xposed版本、日志等信息）。

我们会尽快处理这个问题。

## 我想要贡献

### 报告错误

#### 提交错误报告前

一个好的错误报告不应该让其他人需要追问您以获取更多信息。因此，我们要求您仔细调查、收集信息，并详细描述您的报告中的问题。请提前完成以下步骤，以帮助我们尽快修复任何潜在的错误。

- 确保您正在使用最新版本（**持续构建版**）。
- 确定您的错误是否真的是一个错误，而不是您自己的错误，例如使用不兼容的环境（确保您已阅读了[文档](https://auto.ankio.net)。
- 查看是否已经存在您的错误或错误的 bug 报告，以查看其他用户是否已经遇到（并且可能已经解决）您遇到的相同问题，在[bug 跟踪器](issues?q=label%3Abug)中是否已经存在您的 bug 或错误的报告。
- 也要确保搜索互联网（包括 Stack Overflow），看看 GitHub 社区之外的用户是否讨论了这个问题。
- 收集有关错误的信息：
    - Xposed版本、日志
    - 自动记账版本、日志（包括/sdcard/Android/data/net.ankio.auto.xposed/文件夹下的所有文件)
    - Hook的应用版本（如果可以请提供对应应用的安装包）。
    - 做过的操作（执行哪一步出错了？）
    - 您能够可靠地重现这个问题吗？您也可以使用旧版本重现吗？

#### 如何提交一个好的错误报告？

> 您绝不能将与安全相关的问题、漏洞或包含敏感信息的 bug 报告到问题跟踪器或其他公共地方。敏感的 bug 必须通过电子邮件发送给 <ankio@ankio.net>。

我们使用 GitHub 问题来跟踪 bug 和错误。如果您在项目中遇到问题：

- 打开一个[问题](/issues/new)。（因为我们目前无法确定这是否是一个 bug，请不要立即谈论 bug，也不要为问题贴上标签。）
- 解释您期望的行为和实际行为。
- 请提供尽可能多的上下文，并描述其他人可以按照的*重现步骤*。这通常包括您的代码。对于良好的 bug 报告，您应该隔离问题并创建一个简化的测试案例。
- 提供您在上一节中收集的信息。

提交后：

- 项目团队将相应地为问题贴上标签。
- 团队成员将尝试使用您提供的步骤重现问题。如果没有重现步骤或没有明 显的重现问题的方法，团队将要求您提供这些步骤，并将问题标记为 `needs-repro`。带有 `needs-repro` 标签的 bug 将不会得到解决，直到它们被重现。
- 如果团队能够重现问题，它将被标记为 `needs-fix`，以及可能的其他标签（如 `critical`），并且问题将留待[某人实现](#your-first-code-contribution)。

### 建议增强功能

本节指导您提交 自动记账 的增强建议，**包括全新功能和对现有功能的次要改进**。遵循这些准则将帮助维护者和社区了解您的建议并找到相关的建议。

#### 提交增强建议前

- 确保您正在使用最新版本（**持续构建版**）。
- 仔细阅读[文档](https://auto.ankio.net)，找出功能是否已经覆盖。
- 进行搜索，查看是否已经提出了增强建议。如果有，请在现有问题中添加评论，而不是新开一个问题。
- 查看我们的[开发计划](https://github.com/orgs/AutoAccountingOrg/projects/1/views/2)，判断你的建议是否已经包含在计划中。
- 弄清楚您的想法是否符合项目的范围和目标。您需要提出有力的论据来说服项目的开发者这一功能的优点。请记住，我们希望的功能是对大多数用户有用的，**而不仅仅是一小部分用户**。如果您只针对少数用户，请考虑编写一个附加/插件库。

#### 如何提交一个好的增强建议？

增强建议被跟踪为[GitHub 问题](/issues)。

- 对问题使用**清晰和描述性的标题**以识别建议。
- 提供**建议的详细步骤说明**，尽可能详细。
- **描述当前行为**并**解释您希望看到的行为**以及为什么。在这一点上，您还可以说明哪些替代方法对您无效。
- 您可能希望**包含截图和动画 GIF**，以帮助您演示步骤或指出建议相关的部分。您可以使用[这个工具](https://www.cockos.com/licecap/)在 macOS 和 Windows 上录制 GIF，以及[这个工具](https://github.com/colinkeenan/silentcast)或[这个工具](https://github.com/GNOME/byzanz)在 Linux 上录制。
- **解释为什么这个增强功能对大多数 自动记账 用户有用**。您还可以指出其他解决方案更好的项目，这些项目可以作为启发。

### 您的第一个代码贡献

我们鼓励您为自动记账贡献代码。这可能是您的第一个开源贡献，这是一个很好的开始。这是一些可以帮助您的指导：

自动记账本体采用Kotlin编写，使用Gradle构建。如果您不熟悉这些工具，我们建议您先阅读相关文档。

自动记账服务采用C++编写，涉及quickjs的部分为第三方库，如果您不熟悉C++，请勿修改C++部分。

#### 代码规范

- 请确保您的代码符合我们的代码规范。我们使用[ktlint](https://ktlint.github.io/)来强制执行代码规范。您可以使用`./gradlew ktlintFormat`来格式化您的代码。
- 我们使用[detekt](https://detekt.github.io/detekt/)来检查代码质量。您可以使用`./gradlew detekt`来检查您的代码。

#### 提交代码

commit格式采用： :[类型]: [更改内容] #关联issue

例如给issue(#1)编写规则：

```shell
git commit -m ":sparkles: 新增支付宝消息盒子规则 #1"
```

类型包括：
```
art    # 美化界面或者优化体验
sparkles   # 新功能
bug    # 修复bug
memo   # 文档修改
fire  # 删除代码或文件
recycle  # 重构代码
boom  # 代码或文件拆分
```